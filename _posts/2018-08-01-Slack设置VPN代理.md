---
title: Slack设置VPN代理
date: 2018-08-01
author: asing1elife
categories:
 - software
 - slack
tags:
 - software
 - slack
---
> Slack 目前看来应该是被墙了，但 Slack 本身不支持配置代理，所以可以使用 mac 本身的自动配置代理方式进行代理  
> 该方法理论上适配其他需要被代理的请求链接  

## 官网
[slack-proxy](http://www.vojtechvitek.com/posts/slack-desktop-app-behind-a-sock-proxy-on-macos-14045333)

## 下载 pac 文件
1. 在 [slack-proxy-github](https://github.com/VojtechVitek/sock-proxy) 下载 slack-proxy.pac 文件
![](http://asing1elife.com/sources/images/3BE1E435-30AE-4723-BE2F-6D75B7FF6B83.png)

## 获取本地代理地址
1. 由于我使用的是 lantern ，所以在 lantern 的配置项中可以找到其对应的代理地址
2. 其他软件可自行 Google 如何获取代理地址
![](http://asing1elife.com/sources/images/596041C3-DF4B-4EDF-AE50-F03507C4F5C1.png)

## 修改 pac 文件中的本地代理地址
1. 使用编辑器打开 slack-proxy.pac ，内容如下
2. 将 `SOCKS` 后面的地址改为自己本地有效的代理地址

```javascript
function FindProxyForURL(url, host) {

    if (shExpMatch(host, "*.slack-msgs.com")) {        
        // Use SOCK proxy, or fall back to a DIRECT traffic.
        // ssh -D 8000 [user]@[server]
        return "SOCKS 127.0.0.1:51218; DIRECT";
    }

    return "DIRECT";
}
```

## 在 mac 的系统配置中指定代理文件
1. 一开始已经说过 Slack 本身不支持配置代理，所以需要使用系统本身的特性进行代理配置
2. 依次打开 系统偏好配置 > 网络 > 选择WIFI > 右下角高级 > 代理
3. 勾选 自动代理配置 ，并在右侧输入框中输入上述修好的 slack-proxy.pac 文件
4. 保存即可